.. index:: Release notes; 2.1.1

.. _releases-2.1.1:

=============================================
PortableApps.com Launcher 2.1.1 release notes
=============================================

This release is the first bug-fix release for the 2.1 line and incidentally the
first bug-fix release for the PortableApps.com Launcher as a whole.

All of these bugs are related to the already-starting detection which was added
in version 2.1. There were a few cases where the technique used was not dealt
with properly. In version 2.2, it is planned that the mechanism used to flag it
as "starting" will be changed from INI storage to mutexes, which will be a lot
more reliable and will not be able to get into the stuck state which is common
with a couple of these bugs.

For more information about the 2.1 release, see :ref:`releases-2.1`.

Bugs fixed
==========

Tertiary launches don't work
----------------------------

One of the new features in 2.1 is detection of an already-starting instance of
the portable app, which formerly could lead to data corruption. However, the
"starting" flag was set for secondary launches, and so tertiary launches would
fail to run while any instances were still running (depending slightly on the
app configuration).

Further details are available in the `bug report`_.

.. _bug report: http://portableapps.com/node/28197

Runtime data file left behind on host machine for secondary launches
--------------------------------------------------------------------

While investigating the bug mentioned above, another minor problem was found -
a file ``runtimedata.ini`` was left behind in the plugin directory (which is a
subdirectory with a name like ``nsXXXXXX`` in the user's TEMP directory) for
all secondary instances. This has been fixed now.

Live mode breaks after the first run on writeable medium
--------------------------------------------------------

In subsequent investigations `a third bug was found`_, related to the
"starting" detection, in Live mode. If the source directory was writeable, the
"starting" flag was set but never cleared, meaning that after the first run in
Live mode the app would not start again without deleting the runtime data file
manually. Now this does not break, though on a read-only medium the "starting"
check won't function at all until 2.2.

.. _a third bug was found: http://portableapps.com/node/28522
