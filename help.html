<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--TODO: RegistryKeyWrite!-->
<html lang="en-US">
	<head>
		<title>Chris's PortableApps.com Launcher Test Help</title>
		<link rel="alternate" type="application/rss+xml" title="PortableApps.com" href="http://portableapps.com/feeds/general">
		<link rel="SHORTCUT ICON" href="Other/Help/images/favicon.ico">
		<style>
			body {
				margin: 20px;
				background: #e6e8ea none repeat scroll 0% 50%;
				font-family: Verdana,Arial,Helvetica,sans-serif;
				font-size: 76%;
				color: #000000;
				text-align: center;
			}
			pre {
				border: 1px dotted #808080;
				padding: 10px;
				background-color: #e6e8ea;
				-moz-border-radius-topleft: 12px;
				-moz-border-radius-topright: 12px;
				-moz-border-radius-bottomright: 12px;
				-moz-border-radius-bottomleft: 12px;
			}
			a {
				color: #b31616;
				font-weight: bold;
			}
			a:link {
			}
			a:visited {
			}
			a:active {
			}
			a:hover {
				color: red;
			}
			h1, h2, h3, h4, h5, h6 {
				font-family: Arial,sans-serif;
				font-weight: bold;
			}
			h1 {
				border-bottom: 1px solid silver;
				color: #b31616;
				font-weight: bold;
				letter-spacing: -2px;
				font-size: 2.2em;
				padding-bottom: 5px;
			}
			h2 {
				border-bottom: 1px solid silver;
				font-size: 1.5em;
				padding-bottom: 3px;
				clear: both;
			}
			h3 {
				font-size: 1.2em;
			}
			h4 {
				font-size: 1.1em;
			}
			h5 {
				font-size: 1em;
			}
			h6 {
				font-size: 0.8em;
			}
			img {
				border: none;
			}
			ol, ul, li {
				font-size: 1em;
			}
			p, table, tr, td, th {
				font-size: 1em;
			}
			pre {
				font-size: 1em;
			}
			strong, b {
				font-weight: bold;
			}
			table, tr, td {
				font-size: 1em;
				border-collapse: collapse;
			}
			td, th {
				border: 1px solid #aaaaaa;
				padding: 3px;
				border-collapse: collapse;
			}
			th {
				background: #3667a8 none repeat scroll 0% 50%;
				color: white;
			}
			ol ol {
				list-style-type: lower-alpha;
			}
			.content {
				border-left: 1px solid Black;
				border-right: 1px solid Black;
				padding: 12px 30px;
				text-align: left;
				margin-left: auto;
				margin-right: auto;
				width: 780px;
				background-color: #ffffff;
				line-height: 150%;
			}
			.logo {
				border-left: 1px solid black;
				border-right: 1px solid black;
				background: #ffffff url(Other/Help/images/help_background_header.png) repeat-x;
				width: 840px;
				margin-top: 20px;
				margin-left: auto;
				margin-right: auto;
				text-align: left;
			}
			.footer {
				border-left: 1px solid black;
				border-right: 1px solid black;
				background: #ffffff url(Other/Help/images/help_background_footer.png) repeat-x scroll 0% 50%;
				width: 840px;
				height: 16px;
				margin-left: auto;
				margin-right: auto;
				text-align: left;
			}
			.logo img {
				border: none;
				padding-left: 0px;
				position: relative;
				top: -4px;
			}
			* html .content {
				width: 760px;
			}
			* html .logo, * html .footer {
				width: 820px;
			}
			.content h1 {
				margin: 0px;
			}
			h1.hastagline {
				border: none;
			}
			h2.tagline {
				color: #747673;
				clear: none;
				margin-top: 0em;
			}
			pre, .ini-head, .ini-key, .ini-value, .inicomment {
				font-family: Courier New,Courier,monospace;
			}
			.ini-head {
				font-weight: bold;
				color: #b31616;
			}
			.ini-key {
				color: #0000c0;
			}
			.ini-value {
				color: #000000;
			}
			.ini-comment {
				color: #808080;
			}
			@media print {
				body, .content { margin: 0;
					padding: 0;
				}
				.navigation, .locator, .footer a, .message, .footer-links {
					display: none;
				}
				.footer, .content, .header {
					border: none;
				}
				a {
					text-decoration: none;
					font-weight: normal;
					color: black;
				}
			}
		</style>
	</head>
<body>
<div class="logo"><a href="http://portableapps.com/"><img src="Other/Help/images/help_logo_top.png" alt="PortableApps.com - Your Digital Life, Anywhere" height="47" width="229"></a></div>
<div class="content">
<h1 class="hastagline">Chris's PortableApps.com Launcher Test Manual</h1>
<div class="tagline">
<h2 class="tagline">your PAL in making portable apps</h2>
</div>
<p>Chris's PortableApps.com Launcher Test is a generic launcher, configured by the developer with a simple INI file to make applications into <a href="http://portableapps.com/about/what_is_a_portable_app">portable apps</a>. <a href="http://portableapps.com">Learn more about PortableApps.com...</a></p>
<p><a href="http://portableapps.com/donate"><img src="Other/Help/images/donation_button.png" alt="Make a Donation" align="top" border="0" height="23" width="110"></a> - Support PortableApps.com's Hosting and Development</p>
<p><a href="http://PortableApps.com/development/launcher">Go to Chris's PortableApps.com Launcher Test Homepage &gt;&gt;</a></p>
<p><a href="http://PortableApps.com/">Get portable apps at PortableApps.com</a></p>
<p>This software is OSI Certified Open Source Software. OSI Certified is a certification mark of the Open Source Initiative.</p>
<h2>Documentation</h2>
<p>Chris's PortableApps.com Launcher Test gets its splash screen from App\ChrisLauncher\AppNamePortable.jpg. For a development test release, this should be <a href="http://portableapps.com/files/images/development/SplashDevelopmentTestRelease.jpg">the black and white PortableApps.com Development Test Release splash screen</a>. When an application goes on to Pre-Release or official, it gets its own splash screen.</p>
<p>Chris's PortableApps.com Launcher Test depends on one file for its information and portablization: App\ChrisLauncher\AppNamePortable.ini. AppNamePortable is the base file name of the launcher. When compiled, it is ChrisPortableApps.comLauncherTest.exe, but you should rename it to AppNamePortable.exe, and then the launcher file will be AppNamePortable.ini. This means that you can have multiple launchers using different configurations, which, for example, is needed in the case of OpenOffice.org Portable.</p>
<p>The second file, <strong>AppNamePortable.ini</strong>, is more complex, and is the backbone of the portability which Chris's PortableApps.com Launcher Test provides. It must be correctly configured to cover everything which the application uses. <strong>Only developers should ever modify the launcher INI file, as improper modifications may lose data or cause data to be left behind.</strong></p>
<p>Here is the template for the launcher INI file:</p>
<pre><span class="ini-head">[AppDetails]</span>
<span class="ini-key">PortableAppLongName=</span><span class="ini-value">App Name Portable</span>
<span class="ini-key">AppLongName=</span><span class="ini-value">App Name</span>
<span class="ini-key">ProgramDirectory=</span><span class="ini-value">AppName</span>
<span class="ini-key">ProgramExecutable=</span><span class="ini-value">AppName.exe</span>

<span class="ini-head">[LaunchDetails]</span>
<span class="ini-key">DefaultCommandLineArguments=</span><span class="ini-value">--data-directory=%DATADIR%\settings</span>
<span class="ini-key">SetOutPath=</span><span class="ini-value">%APPDIR%\AppName</span>
<span class="ini-key">AssignContainedTempDirectory=</span><span class="ini-value">true</span>
<span class="ini-key">SinglePortableAppInstance=</span><span class="ini-value">true</span>
<span class="ini-key">SingleAppInstance=</span><span class="ini-value">false</span>
<span class="ini-key">CloseEXE=</span><span class="ini-value">another_optional_app.exe</span>
<span class="ini-key">WaitForProgram=</span><span class="ini-value">true</span>
<span class="ini-key">RequiresJava=</span><span class="ini-value">false</span>

<span class="ini-head">[LiveMode]</span>
<span class="ini-key">CopyApp=</span><span class="ini-value">true</span>
<span class="ini-key">CopyData=</span><span class="ini-value">true</span>

<span class="ini-head">[RegistryKeys]</span>
<span class="ini-key">appname_portable=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Pub\lisher\AppName</span>

<span class="ini-head">[RegistryKeyWrite]</span>
<span class="ini-key">HKEY_CURRENT_USER\Software\Pub\lisher\AppName\Value=</span><span class="ini-value">REG_DWORD:0</span>

<span class="ini-head">[RegistryCleanupIfEmpty]</span>
<span class="ini-key">1=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Pub\lisher</span>
<span class="ini-key">2=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Pub</span>

<span class="ini-head">[RegistryCleanupForce]</span>
<span class="ini-key">1=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Pub\lisher</span>
<span class="ini-key">2=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Pub</span>

<span class="ini-head">[FileWriteConfigWrite]</span>
<span class="ini-key">1File=</span><span class="ini-value">%DATADIR%\settings\data.conf</span>
<span class="ini-key">1Entry=</span><span class="ini-value">&lt;config id="home_directory"&gt;</span>
<span class="ini-key">1Value=</span><span class="ini-value">%/PORTABLEAPPSDOCUMENTSDIR%&lt;/config&gt;</span>

<span class="ini-head">[FileWriteINI]</span>
<span class="ini-key">1File=</span><span class="ini-value">%DATADIR%\settings\data.conf</span>
<span class="ini-key">1Section=</span><span class="ini-value">Paths</span>
<span class="ini-key">1Key=</span><span class="ini-value">home_directory</span>
<span class="ini-key">1Value=</span><span class="ini-value">%PORTABLEAPPSDOCUMENTSDIR%</span>

<span class="ini-head">[FilesMove]</span>
<span class="ini-key">settings\file.txt=</span><span class="ini-value">%APPDIR%\AppName</span>

<span class="ini-head">[DirectoriesMove]</span>
<span class="ini-key">settings=</span><span class="ini-value">%APPDATA%\Pub\lisher\AppName</span>

<span class="ini-head">[DirectoriesCleanupIfEmpty]</span>
<span class="ini-key">1=</span><span class="ini-value">%APPDATA%\Pub\lisher</span>
<span class="ini-key">2=</span><span class="ini-value">%APPDATA%\Pub</span>

<span class="ini-head">[DirectoriesCleanupForce]</span>
<span class="ini-key">1=</span><span class="ini-value">%APPDATA%\Pub\lisher</span>
<span class="ini-key">2=</span><span class="ini-value">%APPDATA%\Pub</span>

<span class="ini-head">[FileDriveLetterUpdate]</span>
<span class="ini-key">Backslash1=</span><span class="ini-value">%DATADIR%\settings\settings.conf</span>
<span class="ini-key">Forwardslash1=</span><span class="ini-value">%DATADIR%\settings\settings.conf</span>

<span class="ini-head">[Environment]</span>
<span class="ini-key">PATH=</span><span class="ini-value">%APPDIR%\AppName;{&amp;}</span>
<span class="ini-key">HOME=</span><span class="ini-value">%DATADIR%\settings</span></pre>

<h3>Explanation of launcher INI options</h3>
<p>There are some definite entries, which specify fixed values, and some arbitrary sections and values for custom entries. First here are the definite entries.</p>
<ul>
	<li><span class="ini-head">[AppDetails]</span><ul>
		<li><span class="ini-key">PortableAppLongName</span><br />This is used for error messages to the user. It should have the full display name, like this: "FirefoxPortable", or "Code::Blocks Portable", or "7-Zip Portable".</li>
		<li><span class="ini-key">AppLongName</span><br />This is used for the error message box provided to the user if there is already a copy of the application running. It should be like this: "Mozilla Firefox", or "Code::Blocks", or "7-Zip".</li>
		<li><span class="ini-key">ProgramDirectory</span><br />This is the directory which contains the application, inside the "App" directory. It should have no spaces or characters which cannot go in file names, and should be like this: "Firefox", or "CodeBlocks", or "7-Zip".</li>
		<li><span class="ini-key">ProgramExecutable</span><br />This is the file name of the application to launch, inside the program directory specified above. It should have no spaces or characters which cannot go in file names, and should be like this: "firefox.exe", or "codeblocks.exe", or "7zFM.exe".</li>
	</ul></li>
	<li><span class="ini-head">[LaunchDetails]</span><ul>
		<li><span class="ini-key">DefaultCommandLineArguments</span><br />This is used as command-line arguments to always pass to the executable, for example "--data-directory=%DATADIR%\settings --music-directory=%PORTABLEAPPSMUSICDIR%". <strong>Substitutions apply.</strong></li>
		<li><span class="ini-key">SetOutPath</span><br />This is used to change the working directory to start the application in. Only use this if absolutely necessary, as it will (at the moment) mess up relative files passed through thee command-line. Example (normally all it'll ever need): "%APPDIR%\AppName". <strong>Substitutions apply.</strong></li>
		<li><span class="ini-key">AssignContainedTempDirectory</span><br />If the application writes things to the TEMP directory and does not always clean them up, specify "true" here, and it will be given a subdirectory (in the format %TEMP%\AppNamePortableTemp) as its TEMP directory, which will be removed after the application is closed, thus not leaving anything behind.</li>
		<li><span class="ini-key">SinglePortableAppInstance</span><br />If you only wish one instance of the portable version of the application to be run, set this to true. If it is set to true, if the launcher is started while another copy of the launcher is already running, the second instance will abort silently. If you wish to prevent a local and portable version of the application from running concurrently, look at SingleAppInstance. Default is false.</li>
		<li><span class="ini-key">SingleAppInstance</span><br />If you only wish one instance of the application, portable or local, to be run, set this to true or omit it. If it is set to true, if the launcher is started while another copy of the application, portable or local, is already running, it will abort with an error message. Default is true.</li>
		<li><span class="ini-key">CloseEXE</span><br />If you wish to specify another executable to require to be closed before the portable application is started than the ProgramExecutable entry, enter the file name in here, e.g. "inkview.exe" for Inkscape.</li>
		<li><span class="ini-key">WaitForProgram</span><br />If you don't need the launcher to wait for the conclusion of the application, set this to false. Note that you should only do this if you do not have registry entries to handle or files to move, for example if you can redirect all settings with command-line arguments or environment variables. Default is true.</li>
		<li><span class="ini-key">RequiresJava</span><br />If you need the launcher to require Java Portable, from \PortableApps\CommonFiles\Java, set this to true.  Then you can set ProgramExecutable to "javaw.exe" and it'll work it out, and then store the JAR file in DefaultCommandLineArguments. Default is false.<br /><strong>Note/Caveat:</strong> WaitForProgram should also be set to "false" if you are using javaw.exe, if you can possibly help it.  Otherwise you'll run into problems cleaning up if other Java applications get run.</li>
	</ul></li>
	<li><span class="ini-head">[LiveMode]</span><br />This section is relevant to running the portable application from a read-only location. As specified here, certain things are copied to the local hard drive, and then the application is run, and any things copied locally are deleted. This is called running locally, or "Live mode".<ul>
		<li><span class="ini-key">CopyApp</span><br />When run in Live mode, does the application need to be run from a writable location? If yes, specify "true". The default is "true".</li>
		<li><span class="ini-key">CopyData</span><br />When run in Live mode, does the application data need to be run from a writable location? If yes, specify "true". The default is "true". It is worthwhile noting that most applications will need settings to be writable. If you have anything in the <span class="ini-head">[RegistryKeys]</span> section with drive letters, or anything in the <span class="ini-head">[DriveLetterUpdate]</span> section, you will need this set to "<span class="ini-value">true</span>".</li>
	</ul></li>
</ul>
<p>Below here are the arbitrarily specified entries. For all of these, you may specify as many as are needed, according to the formats specified. For those in the format "<span class="ini-key">1<em>Type</em>=</span><span class="ini-value">something</span>, the numbering system starts at 1, and increments, as in 2, 3, 4. If there is a missing number, any after it will be lost.</p>
<ul>
	<li><span class="ini-head">[RegistryKeys]</span><br />These are registry keys for which to manage portability. They come in the form <span class="ini-key"><em>file name</em>=</span><span class="ini-value"><em>registry key location</em></span>; the file name is the location of the place where it is saved, which is in Data\settings\<em>file name</em>.reg.<br /><strong>Example:</strong> <span class="ini-key">appname_portable=</span><span class="ini-value">HKEY_CURRENT_USER\Software\AppName</span></li>
	<li><span class="ini-head">[RegistryKeyWrite]</span><br />These are registry values to set for running the portable application, useful for things like disabling file association writing. They come in the form <span class="ini-key"><em>HKEY_ET\Cetera\Key\Value</em>=</span><span class="ini-value">REG_<em>TYPE</em>:<em>value</em></span>; the key name is the place in the registry, with the value appended to it after a final slash, and the value is of the form REG_<em>TYPE</em>:<em>value</em>; <em>REG_TYPE:</em> is optional, and defaults to REG_SZ (a string).<br /><strong>Example:</strong> <span class="ini-key">HKEY_CURRENT_USER\Software\AppName\Key\Value=</span><span class="ini-value">REG_DWORD:16</span></li>
	<li><span class="ini-head">[RegistryCleanupIfEmpty]</span><br />These are registry keys which get cleaned up after the application has run if they are empty. This is useful if there is a tree which will be left behind, for example, if something stores to HKEY_CURRENT_USER\Software\Publisher\AppName, when AppName is saved, Publisher will still be left, empty. Remove it with a line in here.<br /><strong>Example:</strong> <span class="ini-key">1=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Publisher</span></li>
	<li><span class="ini-head">[RegistryCleanupForce]</span><br />These are registry keys which get removed after the application has run. This is useful if there is a tree of useless information which will be left behind, for example, if something stores temporary data to HKEY_CURRENT_USER\Software\AppName\Temp. Remove it with a line in here.<br /><strong>Example:</strong> <span class="ini-key">1=</span><span class="ini-value">HKEY_CURRENT_USER\Software\Publisher</span></li>
	<li><span class="ini-head">[FileWriteConfigWrite]</span><br />For writing arbitrary data to files with lines starting with certain entries. The keys in these sections are <span class="ini-key"><em>N</em>File</span>, <span class="ini-key"><em>N</em>Entry</span> and <span class="ini-key"><em>N</em>Value</span>. The <em>File</em> key is given with things like %DATADIR%\settings\data.conf, specifying the file to write to. <em>Entry</em> should be set to the text to search for at the start of a line. In an INI-type file, this would be "key=", and in an XML file it might be "&nbsp;&nbsp;&nbsp;&nbsp;&lt;config id="something"&gt;"; note that you <strong>must</strong> include any spaces which will be in the file. <em>Value</em> is the value which will be written in the file, the bit which gets placed after the <em>Entry</em>. In XML, you will normally need to close the tag, for example "%DATADIR%\settings<strong>&lt;/config&gt;</strong>"<br /><strong>Substitutions apply for:</strong> File, Value</li>
	<li><span class="ini-head">[FileWriteINI]</span><br />For writing data to INI files. The keys in these sections are <span class="ini-key"><em>N</em>File</span>, <span class="ini-key"><em>N</em>Section</span>, <span class="ini-key"><em>N</em>Key</span> and <span class="ini-key"><em>N</em>Value</span>. The <em>File</em> key is given with things like %DATADIR%\settings\data.conf, specifying the file to write to. <em>Section</em> should be set to the INI section in which to write the value, and <em>Key</em> is the INI key to write the <em>Value</em> to.<br /><strong>Substitutions apply for:</strong> File, Value</li>
	<li><span class="ini-head">[FilesMove]</span><br />These are files for which to manage portability. They come in the form <span class="ini-key"><em>file name</em>=</span><span class="ini-value"><em>target directory</em></span>; the file name is the location of the place where it is saved, relative to the portable data directory.<br /><strong>Substitutions apply.</strong><br /><strong>Example:</strong> <span class="ini-key">settings\file.txt=</span><span class="ini-value">%APPDIR%\AppName</span></li>
	<li><span class="ini-head">[DirectoriesMove]</span><br />These are directories for which to manage portability. They come in the form <span class="ini-key"><em>directory</em>=</span><span class="ini-value"><em>target location</em></span>; the directory is the location of the source directory, relative to the portable data directory. The target location includes the directory you want it to go to, so %DATADIRECTORY%\<em>from</em>\*.* gets copied to <em>to</em>\*.*.<br /><strong>Substitutions apply.</strong><strong>Example:</strong> <span class="ini-key">AppName=</span><span class="ini-value">%APPDATA%</span></li>
	<li><span class="ini-head">[DirectoriesCleanupIfEmpty]</span><br />These are directories which get cleaned up after the application has run if they are empty. This is useful if there is a tree which will be left behind, for example, if something stores to %APPDATA%\Publisher\AppName, when AppName is saved, Publisher will still be left, empty. Remove it with a line in here.<br />The key names here are numbers.<br /><strong>Example:</strong> <span class="ini-key">1=</span><span class="ini-value">%APPDATA%\Publisher</span><span class="ini-head"></span></li>
	<li><span class="ini-head">[DirectoriesCleanupForce]</span><br />These are directories which get removed after the application has run. This is useful if there is a tree which will be left behind, for example, if something stores temporary data which can be safely deleted in %APPDATA%\AppName\Temp. Remove it with a line in here.<br />The key names here are numbers.<br /><strong>Example:</strong> <span class="ini-key">1=</span><span class="ini-value">%APPDATA%\Publisher</span><span class="ini-head"></span></li>
	<li><span class="ini-head">[FileDriveLetterUpdate]</span><br />These are files to update the current drive letter in, given relative to the portable data location (Data), not where it may get moved to (see above).<br />The key names here are "Backslash<em>N</em>" and "Forwardslash<em>N</em>" (the numbering of the two is unrelated). Use Backslash if the paths are stored as X:\file, and Forwardslash if they are stored as X:/file, or use both if necessary.<br /><strong>Substitutions apply.</strong><br /><strong>Example:</strong> <span class="ini-key">1=</span><span class="ini-value">something\settings.conf</span></li>
	<li><span class="ini-head">[Environment]</span><br /><span class="ini-key"><em></em></span>Environment variables to modify, for example "PATH" or "HOME". The value can start or end with "{&amp;}", which is replaced with the original content. This way you can append or prepend things to PATH. <strong>Substitutions apply.</strong><br /><strong>Example:</strong> <span class="ini-key">PATH=</span><span class="ini-value">%APPDIR%\AppName;{&amp;}</span> (this will prepend the executable's directory to the path.)</li></li>
</ul>
<h4>Substitutions</h4>
<p>(This applies to INI entries marked above as "substitutions apply".)</p>
<ul>
	<li><strong>%DRIVE%</strong> &ndash; the drive letter from which the portable application is running; in Live mode, this is the location of the portable device, <em>not</em> the application or data directory if CopyApp or CopyData are set. e.g. "X:"</li>
	<li>Directory variables: with all of these variables, after the opening % can come, before the variable name, one of three things: nothing, a forward slash, or a double backslash. This refers to the directory separator to be used; if there is nothing there, it is a backslash. For example, <em>%PORTABLEAPPSDIR%</em> is X:\PortableApps, <em>%/PORTABLEAPPSDIR%</em> is X:/PortableApps, and <em>%\\PORTABLEAPPSDIR%</em> is X:\\PortableApps. If unsure, use the default single backslash.
	<ul>
		<li><strong>%APPDIR%</strong> &ndash; the location of the App directory (not including the AppName bit), e.g. X:\PortableApps\AppNamePortable\App</li>
		<li><strong>%DATADIR%</strong> &ndash; the location of the Data directory (not including the settings or similar bit), e.g. X:\PortableApps\AppNamePortable\Data</li>
		<li><strong>%JAVADIR%</strong> &ndash; the location of the Java Portable directory (not including "bin"), e.g. X:\PortableApps\CommonFiles\Java.  Note that this will always be set, but it may not exist.  See also <span class="ini-head">[LaunchDetails]</span>:<span class="ini-key">RequiresJava</span> if it must exist for the application to work.</li>
		<li><strong>%ALLUSERSPROFILE%</strong> &ndash; a local variable for copying to and from. e.g. C:\Documents and Settings\All Users on XP and 2000, C:\ProgramData on Vista.</li>
		<li><strong>%LOCALAPPDATA%</strong> &ndash; a local variable for copying to and from. e.g. C:\Documents and Settings\Username\Local Settings\Application Data on XP and 2000, C:\Users\Username\AppData\Local on Vista.</li>
		<li><strong>%APPDATA%</strong> &ndash; a local variable for copying to and from. e.g. C:\Documents and Settings\Username\Application Data on XP and 2000, C:\Users\Username\AppData\Roaming on Vista.</li>
		<li><strong>%DOCUMENTS%</strong> &ndash; a local variable for copying to and from. e.g. C:\Documents and Settings\Username\My Documents on XP and 2000, C:\Users\Username\Documentson Vista.</li>
		<li><strong>%TEMP%</strong> &ndash; the temporary directory which the application will be given. If a contained temporary directory is assigned, this will be the assigned one.</li>
		<li><strong>%PORTABLEAPPSDOCUMENTSDIR%</strong> &ndash; the PortableApps.com Documents directory, e.g X:\Documents</li>
		<li><strong>%PORTABLEAPPSPICTURESDIR%</strong> &ndash; the PortableApps.com Pictures directory, e.g X:\Documents\Pictures</li>
		<li><strong>%PORTABLEAPPSMUSICDIR%</strong> &ndash; the PortableApps.com Music directory, e.g X:\Documents\Music</li>
		<li><strong>%PORTABLEAPPSVIDEOSDIR%</strong> &ndash; the PortableApps.com Videos directory, e.g X:\Documents\Videos</li>
		<li><strong>%PORTABLEAPPSDIR%</strong> &ndash; the PortableApps.com applications directory, e.g. X:\PortableApps. Use this in conjunction with "\CommonFiles" to get the common files directory for things like Java apps.</li>
	</ul></li>
	<li>Language variables: this is not here yet, but if you wait a while longer, it will be. Scheduled for Test 3.<!--TODO--></li>
</ul>
<h3>Sample INI launcher configuration</h3>
<h4>Sample 7-Zip launcher (App\ChrisLauncher\7-ZipPortable.ini)</h4>
<p>7-Zip stores its settings in the registry, in HKEY_CURRENT_USER\Software\7-Zip. In previous releases of 7-Zip Portable, it has stored this in Data\settings\7zip_portable.reg. 7-Zip itself can be run from a read-only location.</p>
<p>Here is a fully functional sample launcher file (App\ChrisLauncher\7-ZipPortable.ini), configured correctly for 7-Zip:</p>
<pre><span class="ini-head">[AppDetails]</span>
<span class="ini-key">PortableAppLongName=</span><span class="ini-value">7-Zip Portable</span>
<span class="ini-key">AppLongName=</span><span class="ini-value">7-Zip</span>
<span class="ini-key">ProgramDirectory=</span><span class="ini-value">7-Zip</span>
<span class="ini-key">ProgramExecutable=</span><span class="ini-value">7zFM.exe</span>

<span class="ini-head">[LiveMode]</span>
<span class="ini-key">CopyData=</span><span class="ini-value">true</span>

<span class="ini-head">[Registry]</span>
<span class="ini-key">7zip_portable=</span><span class="ini-value">HKEY_CURRENT_USER\Software\7-Zip</span>
</pre>
<p>To outline what this actually does: in the registry, <span class="ini-key">HKEY_CURRENT_USER\Software\7-Zip</span> is backed up if necessary, and the contents of Data\settings\<span class="ini-key">7zip_portable</span>.reg are inserted into the registry, after updating the drive letter. Then App\<span class="ini-key">7-Zip</span>\<span class="ini-key">7zFM.exe</span> is run. After it is closed, the 7-Zip registry key is stored and deleted, and the backup of local 7-Zip settings is restored if it existed.</p>
<h4>Sample Code::Blocks launcher (App\ChrisLauncher\CodeBlocksPortable.ini)</h4>
<p>Code::Blocks stores its settings in the local user's application data directory, in %APPDATA%\codeblocks. However, this cannot just be redirected, as it also depends on %USERPROFILE%, which after testing has been demonstrated to not redirect safely. Thus data must be moved back and forth for running portably. Code::Blocks itself can be run from a read-only location.</p>
<p>Here is a fully functional sample launcher file (App\ChrisLauncher\CodeBlocksPortable.ini), configured correctly for Code::Blocks:</p>
<pre><span class="ini-head">[AppDetails]</span>
<span class="ini-key">PortableAppLongName=</span><span class="ini-value">Code::Blocks Portable</span>
<span class="ini-key">PortableAppShortName=</span><span class="ini-value">CodeBlocksPortable</span>
<span class="ini-key">AppLongName=</span><span class="ini-value">Code::Blocks</span>
<span class="ini-key">ProgramDirectory=</span><span class="ini-value">CodeBlocks</span>
<span class="ini-key">ProgramExecutable=</span><span class="ini-value">codeblocks.exe
</span>
<span class="ini-head">[LaunchDetails]</span>
<span class="ini-key">DefaultCommandLineArguments=</span><span class="ini-value">--no-check-associations --no-dde --no-splash-screen</span>

<span class="ini-head">[LiveMode]</span>
<span class="ini-key">CopyData=</span><span class="ini-value">true</span>

<span class="ini-head">[DirectoriesMove]</span>
<span class="ini-key">personalities=</span><span class="ini-value">%APPDATA%\codeblocks\personalities</span>
<span class="ini-key">UserTemplates=</span><span class="ini-value">%APPDATA%\codeblocks\UserTemplates</span>
<span class="ini-key">share=</span><span class="ini-value">%APPDATA%\codeblocks\share</span>

<span class="ini-head">[DirectoriesCleanupIfEmpty]</span>
<span class="ini-key">1=</span><span class="ini-value">%APPDATA%\codeblocks</span>

<span class="ini-head">[DriveLetterUpdate]</span>
<span class="ini-key">1=</span><span class="ini-value">%DATADIR%\personalities\default.conf</span>
</pre>
<p>To outline what this actually does: <span class="ini-key">%APPDATA%\codeblocks</span>\<span class="ini-key">personalities</span> is backed up if necessary, and the contents of Data\<span class="ini-key">personalities</span> are copied to <span class="ini-key">%APPDATA%\codeblocks</span>\<span class="ini-key">personalities</span>, after updating the drive letter in <span class="ini-key">Data\personalities\default.conf</span>. In the same way, the <span class="ini-key">UserTemplates</span> and <span class="ini-key">share</span> directories are backed up and copied. Then App\<span class="ini-key">CodeBlocks</span>\<span class="ini-key">codeblocks.exe</span> is run. After it is closed, the APPDATA directories are copied to the Code::Blocks Portable Data directory and deleted, and the backup of local Code::Blocks settings is restored if it existed. At the end, if <span class="ini-key">%APPDATA%\codeblocks</span> is empty, it is removed.</p>
</div>
<div class="footer"></div>
</body>
</html>
